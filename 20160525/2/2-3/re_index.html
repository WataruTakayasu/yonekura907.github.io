<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>closure</title>
</head>
<body>

<button id="btn0">押せ0！</button>
<button id="btn1">押せ1！</button>
<button id="btn2">押せ2！</button>
<button id="btn3">押せ3！</button>

<script>

;(function(){

  var d = document;

  var getCounter = function(){

    var count = 0;

    return function(aPoint){
      count += aPoint;
      console.log(this);
      console.log(count);
    }
  }

  // カウンター1
  var counter1 = getCounter();

  d.querySelector('#btn0').addEventListener('click',function(){
    counter1(100);
  },false);

  d.querySelector('#btn1').addEventListener('click',function(){
    counter1(200);
  },false);


  // カウンター2
  var counter2 = getCounter();
  d.querySelector('#btn2').addEventListener('click',function(){
    counter2(150);
  },false);


})();


</script>
</body>
</html>
