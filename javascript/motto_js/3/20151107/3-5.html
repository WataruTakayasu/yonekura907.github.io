<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3-5 jQuery パフォーマンス</title>
    <style>
    .title-bg {
        background: red;
    }
    .contents-bg {
        background: blue;
    }
    .fs {
        font-size: 40px;
    }
    
    </style>
    
</head>
<body>
    <button id="btn" name="button">変更！</button>
    <div id="wapper">
        <div id="title">
            jQuery パフォーマンス
        </div>
        <div id="contents">
            こっちの方が早いよ！
        </div>
    </div>
    
    <!-- ① jQueryをCDN読み込む -->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script>
    ;(function(){
        // DOMが読み込み完了時にイベント発火
        // $(function(){
        //     
        // })
        $(document).ready(function(){
            
        });
        
        // 画像とか動画の読み込みが完了したときにイベントが発火する
        $(window).load(function(){
            
        });
        
        //----------------------------------
        // ② 常にIDやClassからたどる
        //----------------------------------
        var title = $('div#title').text();
        console.log(title);
        
        // こっちの方が早いよ！
        var title = $('#title').text();
        console.log(title);
        
        // ⑤ 何度も使用するjQueryオブジェクトは変数に保持する
        var $wapper = $('#wapper');
        
        //-----------------------------------
        // ③ メソッドチェーン
        //-----------------------------------
        $('#btn').on('click', function(){
            // $('#title').css({background: 'red'});
            // $('#title').css({fontSize: '20px'})
            // $('#contents').css({background: 'blue'});
            // $('#contents').css({fontSize: '20px'})
            
            // メソッドチェーン
            // $('#title').css({background: 'red'})
            //            .css({fontSize: '20px'});
            // $('#contents').css({background: 'blue'})
            //               .css({fontSize: '20px'});
                          
            // findメソッド
            // $('#wapper').find('#title').css({background: 'red'}).end()
            //             .find('#contents').css({background: 'blue'}).end()
            //             .css({fontSize: '40px'});
            
            // さらに高速化(addClass)
            $wapper.find('#title').addClass('title-bg').end()
                      .find('#contents').addClass('contents-bg').end()
                      .addClass('fs');
        });
        
        //-------------------------------
        // ③ DOM操作の回数を減らす
        //-------------------------------
        // for(var cnt=0; cnt<10; cnt++){
        //     $('#wapper').append('<div>' + cnt + '</div>');
        // }
        
        var html = '';
        for(var cnt=0; cnt<10; cnt++){
            html += '<div>' + cnt + '</div>';
        }
        $wapper.append(html);
        
        // $('#wapper')
        // document.getElementById('wapper');
        
        
    })();
    </script>
</body>
</html>



