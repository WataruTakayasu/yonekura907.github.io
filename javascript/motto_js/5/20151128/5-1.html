<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <button id="send-btn" name="button">ajaxで送信</button>
    <button id="jsonp-btn" name="button">jsonpで送信</button>
    
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script>
    ;(function(){
        
        $(function(){
            $('#send-btn').on('click', function(){
                send();
            });
            
            $('#jsonp-btn').on('click', function(){
                jsonpSend();
            });
        });
        
        var send = function(){
            $.ajax({
                // url: 'http://49.212.141.115:8888',
                url: 'http://49.212.141.115:8888/nocross',
                type: 'GET',
                dataType: 'json',
                data: {
                    name: 'Takeda'
                }
            })
            .done(function(data){
                console.log('成功');
                console.log(data);
            })
            .fail(function(){
                console.log('失敗');
            })
            .always(function(){
                console.log('always');
            });
        };
        
        var jsonpSend = function(){
            
            $.ajax({
                url: 'http://cshool.com:8888/jsonp',
                type: 'GET',
                dataType: 'jsonp',
                jsonp: 'callbackChange',
                data: {
                    name: 'Takeda'
                }
            })
            .done(function(data){
                console.log('成功');
                console.log(data);
                alert();
            })
            .fail(function(){
                console.log('失敗');
            });
        };
    })();
    
    
    </script>
</body>
</html>