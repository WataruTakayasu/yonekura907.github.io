<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>プロトタイプ</title>
</head>
<body>
幅：<input type="text" id="w" name="w">
高さ：<input type="text" id="h" name="h">
<button id="calc-btn" name="button">計算</button>
<div id="output-area"></div>

<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
<script>
;(function(){

  // 四角形（親クラス）
  var Rect = function(aWidth,aHeight){
    this.width = aWidth,
    this.height = aHeight

  };
  // プロトタイプに計算
  Rect.prototype.calc = function(){
    var result = this.width * this.height;
    return result;
    console.log(result);
  }

  Rect.prototype.render = function(aSize){
    var str = '面積' + aSize + 'の' + this.type + 'です';
    $('#output-area').append(str);
  }


  // 子クラス 正方形
  var Square = function(aWidth,aHeight){
    // 親クラスのコンストラクタをコールする
    Rect.apply(this, [aWidth, aHeight]);
    this.type = '正方形';
  }
  Square.prototype = new Rect();

  // 子クラス 長方形
  var Rectangle = function(aWidth,aHeight){
    // 親クラスのコンストラクタをコールする
    Rect.apply(this, [aWidth, aHeight]);
    this.type = '長方形';
  }

  Rectangle.prototype = new Rect();




  $('#calc-btn').on('click',function(){

    var width = $('#w').val();
    var height = $('#h').val();

    if(width === height){
      var square = new Square(width,height);
      var area = square.calc();
      square.render(area);
    } else {
      var rct = new Rectangle(width,height);
      var area = rct.calc();
      rct.render(area);
    }

  });




})();
</script>


</body>
</html>
