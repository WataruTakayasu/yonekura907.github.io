<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title></title>
<style type="text/css">
.font-large {
    font-size: large;
}
.font-medium {
    font-size: medium;
}
.font-small {
    font-size: small;
}
</style>
</head>
<body>
    <div id="control">
        <button id="large-btn">大</button>
        <button id="medium-btn">中</button>
        <button id="small-btn">小</button>
    </div>
    <div id="view" class="font-medium">こんちには</div>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">
    ;(function(){
        $(function(){
            // ストレージに保存しているデータの取得
            loadFontSize();
            // イベントの設定
            setEvent();
        });

        var setEvent = function(){
            $('#large-btn').on('click', function(evt){
                saveFontSize('large');
                changeFontSize('large');
            });

            $('#medium-btn').on('click', function(evt){
                saveFontSize('medium');
                changeFontSize('medium');
            });

            $('#small-btn').on('click', function(evt){
                saveFontSize('small');
                changeFontSize('small');
            });
        };

        var saveFontSize = function(aType){
            var obj = {
                size: aType
            };
            // フォントサイズの保存
            window.localStorage.setItem('font-size', JSON.stringify(obj));
        };

        var loadFontSize = function(){
            var data = window.localStorage.getItem('font-size');
            // 初回アクセス時はストレージにデータがないのでその分岐
            if(data){
                var fontSize = JSON.parse( data );
                changeFontSize(fontSize.size);
            }
        };

        var changeFontSize = function(aType){
            // フォントサイズのクラスを付け替える
            $('#view').removeClass().addClass('font-' + aType);
        };

    })();
    </script>
</body>
</html>
