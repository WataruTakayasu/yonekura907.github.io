<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Event jQuery</title>
<style>
body{
  position: relative;
}
#misoda{
  position: absolute;
  top: 50px;
}
</style>
</head>
<body>

<button id="misoda-btn">misoda</button>

<div id="misoda">
  <img src="images/misoda.png" alt="">
</div>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
;(function(){

  // DOMの読み込みが完了したら
  $(function(){
    setEvent();
  });

  var setEvent = function(){
    // ボタンにクリックイベントを付与
    $('#misoda-btn').on('click',function(evt){
      // アニメーションをスタート
      misodaAnime();
      // イベントの解除
      $(this).off('click');
      console.log('end: setEvent');
    });
  };

  var misodaAnime = function(){
    $('#misoda').animate({'left': '300px'},1000, function(){
      $(this).animate({'left': '0px'},1000, function(){
        console.log('end: misodaAnime');
        // アニメーションが完了したら再びイベントを付与する
        setEvent();
      });
    });
  }

})();
</script>

</body>
</html>
