<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>4-3 jQueryプラグイン</title>
</head>
<body>
    <button>押せ！</button>
    <button>押せ2！</button>
    <ul>
        <li>みそだ</li>
        <li>ことり</li>
        <li>ぜん</li>
        <li>すのびっけ</li>
        <li>ぶっとぱっと</li>
    </ul>

    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script>
    ;(function(){
        
        $(function(){
            $('button:first').on('click', function(){
                $('li').linkTo('http://cshool.jp')
                       .css({background: 'red'});
            });

            $('button:nth-child(2)').on('click', function(){
                $('li:nth-child(even)').linkTo('http://cshool.co.jp')
                                       .css({background: 'blue'});
            });

        });
        

        // jQueryプラグイン
        // 1. 即時実行関数で囲む、jQueryオブジェクトを引数として渡しておく
        (function($){
            // 2. $.fn.xxxxxとして定義する
            $.fn.linkTo = function(aUrl){
                this.wrap('<a href="' + aUrl + '"></a>');
                // メソッドチェーンに対応するため
                return this;
            };
        })(jQuery);

    })();
    </script>
</body>
</html>